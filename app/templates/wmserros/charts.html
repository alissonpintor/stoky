{% extends "base.html" %}

{% block content %}
<div class="row">
  <div class="col-md-12">
    <canvas id="barChart" width="auto" height="auto"></canvas>
  </div>

  <div class="col-md-12">
    <canvas id="lineChart" width="auto" height="auto"></canvas>
  </div>

  {{ charts.generateHTML() }}

  {{ charts2.generateHTML() }}

  {{ lineChart.generateHTML() }}
</div>

    {% include 'messages.html' %}
{% endblock %}

{% block scripts %}
</script>
<script type="text/javascript">
  {{ charts.generateScript() }}
</script>

<script type="text/javascript">
  {{ charts2.generateScript() }}
</script>

<script type="text/javascript">
  {{ lineChart.generateScript() }}
</script>

<script>
var ctx = document.getElementById("barChart").getContext('2d');
var barChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: {{ labels|tojson }},
        datasets: [{
            label: '# of Votes',
            data: {{ results|tojson }},
            backgroundColor: {{ bg|tojson }},
            borderColor: {{ bg|tojson }},
            borderWidth: 1
        },
        {
          label: '# of Votes 2',
          data: {{ results|tojson }},
          backgroundColor: {{ bg|tojson }},
          borderColor: {{ bg|tojson }},
          borderWidth: 3
        }]
    },
    options: {
        scales: {
            xAxes: [{
                gridLines: {
                    offsetGridLines: true
                }
            }],
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        },

        layout: {
            padding: {
                left: 0,
                right: 0,
                top: 50,
                bottom: 0
            }
        },

        legend: {
          display: true
        },

        title: {
            display: true,
            text: 'Custom Chart Title'
        }
    }
});

var line = document.getElementById("lineChart").getContext('2d');
var lineChart = new Chart(line, {
    type: 'line',
    data: {
        labels: {{ labels|tojson }},
        datasets: [{
            label: '# of Votes',
            data: {{ results|tojson }},
            backgroundColor: 'rgba(255,0,0,0.5)',
            borderColor: 'rgba(255,0,0,1)',
            borderWidth: 1
        },
        {
          label: '# of Votes 2',
          data: {{ results|sort|tojson }}
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero:true
                }
            }]
        },

        layout: {
            padding: {
                left: 0,
                right: 0,
                top: 50,
                bottom: 0
            }
        },

        legend: {
          display: true
        },

        title: {
            display: true,
            text: 'Custom Chart Title'
        }
    }
});
{% endblock %}
